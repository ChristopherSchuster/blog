<p> Golang, es un lenguaje de programaci&oacute;n desarrollado inicialmente en Google. Uno de sus creadores es 
   <a href="http://en.wikipedia.org/wiki/Ken_Thompson"> Ken Thompson </a>, uno de los creadores del lenguaje de programaci&oacute;n C.
    Es de tipado est&aacute;tico con una sintaxis derivada de C, agrando recolecci&oacute;n de basura, tipos de datos seguros, etc.
    En este post cubriremos instalaci&oacute;n  y construcci&oacute;n de un sitio web sencillo.
</p>

<h2> Instalaci&oacute;n</h2>

<p>
    Instalaremos y configuraremos golang en un sistema debian.
    <a href="https://golang.org/doc/install"> Documentaci&oacute;n oficial </a> contiene instrucciones para otras plataformas.

</p>

<h3> Instalando el lenguaje</h3>
<pre>
  $ sudo apt-get install golang  
</pre>

<h3> Instalando las herramientas</h3>
<p>
    Despues de instalar el lenguaje es necesario  <a href="https://golang.org/dl/  "> descargar el archivo de herramientas </a> y descomprimirlo en  /usr/local
</p>

<pre>
  $ wget https://storage.googleapis.com/golang/go1.3.3.linux-amd64.tar.gz
  $ sudo mv go1.3.3.linux-amd64.tar.gz /usr/local/
  $ cd /usr/local
  $ sudo  tar -xzf go1.3.3.linux-amd64.tar.gz
</pre>


<p>
Agregar /usr/local/go/bin  a la variable de entorno PATH
</p>

<pre>
    export PATH=$PATH:/usr/local/go/bin
</pre>

<h3> Hello world </h3>
<p>
    Crear un archivo llamado  hello.go and copiar el siguiente c&oacute;digo:
</p>
<pre>
  package main
  import "fmt"

  func main() {
      fmt.Printf("hello, world\n")
  }
</pre>

<p>
Ejecutar el programa:
</p>

<pre>
  $ go run hello.go  
</pre>


<h2> Simple Website </h2>

<p>
Usaremos el paquete standar 
<a href="http://golang.org/pkg/net/http/">http package </a>  para escribir un servidor httpr, para lo que crearemos un archivo 
 llamado server.go y agregaremos lo siguiente:
</p>

<pre>
    package main

    import (
        "fmt"
        "io/ioutil"
    	"net/http"
    )
</pre>

<p>
Ahora crearemos un struct que almacena cada p&aacute;gina:

</p>

<pre>
    type Page struct {
        Title string
        Body  []byte
    }
</pre>

<p>
    Cada p&aacute;gina es representada por un t&iacute;tulo que es un string y un cuerpo que es un slide (sequencia) de bytes.
    Una explicaci&oacute;n detallada de <a href="http://blog.golang.org/go-slices-usage-and-internals">slides en este enlace. </a>
</p>

<p>
    Ahora crearemos un m&eacute;todo que lee el cuerpo de un archivo de texto, por simplicidad asumimos que el nombre del archivo
    es el t&iacute; de la p&aacute;gina.
</p>

<pre>
    func loadPage(title string) (*Page, error) {
        filename := title + ".html"
        body, err := ioutil.ReadFile(filename)
        if err != nil {
            return nil, err
        }
        return &Page{Title: title, Body: body}, nil
    }
</pre>


<p>
Ahora agregaremos el c&oacute;digo que manejar&acute; las peticiones http y retornar&aacute; el contenido html:
</p>


<pre>

    func viewHandler(w http.ResponseWriter, r *http.Request) {
        title := r.URL.Path[len("/view/"):]
        p, _ := loadPage(title)
        fmt.Fprintf(w, "<h1>%s</h1><div>%s</div>", p.Title, p.Body)
    }

</pre>

<p>
Finalmente, agregamos el m&eacute;todo principal donde creamos el servidor http:
</p>

<pre>
    func main() {
        http.HandleFunc("/view/", viewHandler)
        http.ListenAndServe(":8080", nil)
    }
</pre>

<p>
  Podemos compilar el programa con el comando <code> go build server.go </code> y ejecutarlo con <code> ./server</code>
</p>

<p>
    Se puede probar con una simple petici&oacute;n curl:
</p>

<pre>
    $curl http://localhost:8080/view/go-intro
</pre>

<p>

El c&oacute;digo fuente pued ser encontrado en    <a href="https://github.com/maigfrga/blog/tree/master/2014/12/go-intro">   este enlace </a>
</p>

<h2> References</h2>

<ul>
    <li>
        <a href="https://golang.org">  Go's official site </a>
    </li>
    <li>
         <a href="http://en.wikipedia.org/wiki/Go_%28programming_language%29 "> Wikipedia </a>
    </li>
    <li>
        <a href="https://github.com/fatih/vim-go2"> Vim Plugin for go </a>
    </li>
    <li>
        <a href="http://obahua.com/setup-vim-for-go-development/"> Setup VIM for Go development  </a>
    </li>
    <li>
         <a href="https://golang.org/doc/code.html">How to Write Go Code </a>
    </li>
    <li>
       <a href="http://golang.org/pkg/net/http/"> Package http </a>
    </li>
    <li>
       <a href="https://golang.org/doc/articles/wiki/"> Writing Web Applications </a>
    </li>
    <li>
       <a href="http://www.golang-book.com/"> An Introduction to Programming in Go. </a>
    </li>
    <li>
       <li href="http://blog.golang.org/go-slices-usage-and-internals"> Go Slices: usage and internals </li>
    </li>
</ul>
